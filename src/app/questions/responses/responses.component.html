<div>
  <form (ngSubmit)="onSubmit()" [formGroup]="form">
    <mat-form-field>
      <input matInput [matDatepicker]="startDatePicker" formControlName="startDate" (ngModelChange)="dateChange($event)" [readonly]="true">
    </mat-form-field>
      <mat-datepicker-toggle [for]="startDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #startDatePicker></mat-datepicker>

    <mat-form-field>
      <input matInput [matDatepicker]="endDatePicker" formControlName="endDate" [min]="minDate" [readonly]="true">
    </mat-form-field>
      <mat-datepicker-toggle [for]="endDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #endDatePicker></mat-datepicker>

    <div class="form-row">
      <button mat-raised-button color="primary" type="submit" [disabled]="!form.valid">Save</button>
    </div>
  </form>
</div>

<div *ngIf="finalCount.length >= 1">
  <div *ngFor="let question of finalCount">
    Question: {{question[0]}}<br>
    Responses:
    <div class="row" *ngFor="let answer of question[1]">
      {{answer[0]}}: {{answer[1]}}
    </div>
  </div>
</div>

<div *ngIf="isLoading">
    <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>
